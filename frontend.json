{
  "type": "app",
  "title": "YouTube Karaoke - Acorduri & PercuÈ›ie",
  "description": "Introdu un link YouTube È™i primeÈ™ti acordurile, tempo-ul È™i percuÈ›ia sincronizatÄƒ pentru karaoke.",
  "theme": {
    "primary_color": "#1db954",
    "secondary_color": "#191414",
    "background_color": "#f8f9fa"
  },
  "inputs": [
    {
      "name": "youtube_link",
      "type": "text",
      "label": "Link YouTube",
      "placeholder": "https://www.youtube.com/watch?v=EXEMPLU",
      "required": true,
      "validation": {
        "pattern": "https://www\\.youtube\\.com/watch\\?v=[\\w-]+",
        "message": "Te rog introdu un link YouTube valid"
      }
    }
  ],
  "actions": [
    {
      "name": "AnalizeazÄƒ Melodia",
      "type": "api_call",
      "method": "POST",
      "url": "https://numeleproiectului.up.railway.app/analyze/",
      "body": {
        "url": "{{youtube_link}}"
      },
      "loading_text": "Analizez melodia...",
      "on_success": {
        "type": "show_results",
        "template": "results_template"
      },
      "on_error": {
        "type": "show_error",
        "title": "Eroare la AnalizÄƒ",
        "message": "Nu am putut analiza melodia. VerificÄƒ linkul È™i Ã®ncearcÄƒ din nou."
      }
    }
  ],
  "templates": {
    "results_template": {
      "type": "card",
      "title": "ğŸµ {{title}}",
      "content": [
        {
          "type": "section",
          "title": "ğŸ“Š InformaÈ›ii Melodie",
          "content": [
            "ğŸ¯ **Tempo:** {{tempo}} BPM",
            "ğŸ¼ **Cheie:** {{key}}",
            "â±ï¸ **DuratÄƒ:** {{duration}} secunde",
            "ğŸšï¸ **Dificultate:** {{difficulty}}"
          ]
        },
        {
          "type": "section",
          "title": "ğŸ¸ Progresie Acorduri",
          "content": [
            "{{#each chord_progression}}",
            "â€¢ {{this}}",
            "{{/each}}"
          ]
        },
        {
          "type": "section",
          "title": "ğŸ¸ Acorduri Detectate",
          "content": [
            "{{#each chords}}",
            "â€¢ **{{timp}}s:** {{acord}} ({{confidence}} confidenÈ›Äƒ)",
            "{{/each}}"
          ]
        },
        {
          "type": "section",
          "title": "ğŸ¥ Beat-uri",
          "content": [
            "{{#each beats}}",
            "â€¢ Beat la {{this}}s",
            "{{/each}}"
          ]
        }
      ],
      "actions": [
        {
          "name": "PorneÈ™te Karaoke",
          "type": "show_karaoke_player",
          "data": {
            "youtube_url": "{{youtube_link}}",
            "chords": "{{chords}}",
            "tempo": "{{tempo}}",
            "beats": "{{beats}}"
          }
        },
        {
          "name": "GenereazÄƒ PercuÈ›ie Rock",
          "type": "api_call",
          "method": "POST",
          "url": "https://numeleproiectului.up.railway.app/generate-drum-pattern/",
          "body": {
            "tempo": "{{tempo}}",
            "style": "rock"
          },
          "on_success": {
            "type": "show_drum_pattern",
            "template": "drum_pattern_template"
          }
        },
        {
          "name": "GenereazÄƒ PercuÈ›ie Pop",
          "type": "api_call",
          "method": "POST",
          "url": "https://numeleproiectului.up.railway.app/generate-drum-pattern/",
          "body": {
            "tempo": "{{tempo}}",
            "style": "pop"
          },
          "on_success": {
            "type": "show_drum_pattern",
            "template": "drum_pattern_template"
          }
        },
        {
          "name": "GenereazÄƒ PercuÈ›ie Jazz",
          "type": "api_call",
          "method": "POST",
          "url": "https://numeleproiectului.up.railway.app/generate-drum-pattern/",
          "body": {
            "tempo": "{{tempo}}",
            "style": "jazz"
          },
          "on_success": {
            "type": "show_drum_pattern",
            "template": "drum_pattern_template"
          }
        }
      ]
    },
    "drum_pattern_template": {
      "type": "card",
      "title": "ğŸ¥ Pattern PercuÈ›ie - {{style}}",
      "content": [
        {
          "type": "section",
          "title": "ğŸ“Š InformaÈ›ii Pattern",
          "content": [
            "ğŸ¯ **Tempo:** {{tempo}} BPM",
            "ğŸµ **Stil:** {{style}}",
            "â±ï¸ **DuratÄƒ mÄƒsurÄƒ:** {{4 * 60 / tempo}} secunde"
          ]
        },
        {
          "type": "section",
          "title": "ğŸ¥ Pattern-ul",
          "content": [
            "{{#each pattern}}",
            "â€¢ **{{time}}s:** {{drum}} ({{velocity}} intensitate)",
            "{{/each}}"
          ]
        }
      ],
      "actions": [
        {
          "name": "PorneÈ™te PercuÈ›ia",
          "type": "start_drum_beat",
          "data": {
            "pattern": "{{pattern}}",
            "tempo": "{{tempo}}",
            "style": "{{style}}"
          }
        },
        {
          "name": "DescarcÄƒ MIDI",
          "type": "download_midi",
          "data": {
            "pattern": "{{pattern}}",
            "tempo": "{{tempo}}"
          }
        }
      ]
    }
  },
  "components": {
    "karaoke_player": {
      "type": "custom",
      "html": "<div id='karaoke-player' class='karaoke-container'></div>",
      "css": ".karaoke-container { background: #191414; color: white; padding: 20px; border-radius: 10px; }",
      "javascript": "initKaraokePlayer(data);"
    },
    "drum_beat": {
      "type": "custom", 
      "html": "<div id='drum-machine' class='drum-container'></div>",
      "css": ".drum-container { background: #2c2c2c; padding: 15px; border-radius: 8px; }",
      "javascript": "initDrumMachine(data);"
    },
    "difficulty_badge": {
      "type": "custom",
      "html": "<span class='difficulty-badge difficulty-{{difficulty}}'>{{difficulty}}</span>",
      "css": ".difficulty-badge { padding: 4px 8px; border-radius: 4px; font-weight: bold; } .difficulty-UÈ™or { background: #28a745; } .difficulty-Mediu { background: #ffc107; color: #000; } .difficulty-Dificil { background: #dc3545; }"
    }
  },
  "settings": {
    "auto_play": false,
    "show_chords": true,
    "show_beats": true,
    "drum_volume": 0.7,
    "chord_highlighting": true,
    "difficulty_colors": true,
    "midi_export": true
  },
  "help": {
    "title": "Cum sÄƒ foloseÈ™ti aplicaÈ›ia",
    "content": [
      "1. Introdu un link valid de YouTube",
      "2. ApasÄƒ 'AnalizeazÄƒ Melodia'",
      "3. AÈ™teaptÄƒ rezultatele (poate dura 30-60 secunde)",
      "4. Vezi dificultatea È™i progresia de acorduri",
      "5. GenereazÄƒ percuÈ›ie Ã®n stilul dorit",
      "6. FoloseÈ™te player-ul karaoke pentru a cÃ¢nta"
    ]
  },
  "features": {
    "advanced_chord_detection": true,
    "drum_pattern_generation": true,
    "difficulty_calculation": true,
    "chord_progression_analysis": true,
    "midi_export": true,
    "multiple_drum_styles": true
  }
} 